# mall 开源项目学习笔记

## 用户管理模块

用户管理是一个系统的必要组成部分，一直想对这块有深入的了解，刚好，借助这个项目，对该部分进行学习

我们先来看一下用户管理基本的东西。

### 注册

​		注册的逻辑：根据前端的请求，封装成对应的对象，创建时，必要的一步逻辑验证就是，判断用户名是否已存在，已存在用户名，不能再次创建。

​		此外注册时，写入数据库的一定不能是明文密码，采用不对称加密是稳妥的方法。

```java
passwordEncoder.encode(passwd)
```

### 登录

​		登录就是根据用户名，密码，和数据库进行比对，这里有几个问题，前端传递的密码原则上必须进行加密传输

​		在取数据库进行比对时，特别是分布式问题中，要注意用户基本信息可以利用redis进行缓冲，取用户数据时，首先去redis中去查找，找不到时，再去数据库中去获取。

```java
UmsAdmin admin = adminCacheService.getAdmin(username); // 缓冲命中时，可以快速完成登录

// 录中有一段复杂的逻辑，是spring security内容，这一块，我们先跳过，这部分还是需要单独学习的
    
// 功后，利用JWT生成token一并返回给客户端
jwtTokenUtil.generateToken(userDetails);
```

> 官方给出的登录名  admin/macro123

### 登出

### 权限分配

